@typeparam TValue
@inherits RAEditor<TValue>

@if (_isLoaded)
{
    @if (this.ShowLabel)
    {
        <RAPropertyLabel For="@this.ValueExpression"
                         ForId="@this.Id"
                         Value="@this.Label"
                         Class="@GetLabelClass()"
                         Style="@this.LabelStyle" />
    }
    <div class="ra-property-editor @this.VisibilityClass">

        @{
            base.BuildRenderTree(__builder);
        }

        <div class="fst-italic ra-text-small">@this.Note</div>

        <RAPropertyEditorValidationMessage For="@this.ValueExpression" />

    </div>
}

@code {

    [Parameter]
    public string? Label { get; set; }

    [Parameter]
    public string? LabelClass { get; set; }

    [Parameter]
    public string? LabelStyle { get; set; }

    [Parameter]
    public bool ShowLabel { get; set; } = true;

    [Parameter]
    public string? Note { get; set; }

    private string GetLabelClass()
    {
        return (this.LabelClass + " " + this.VisibilityClass).Trim();
    }
}
